/*
	A simple, lightweight jQuery plugin for creating sortable tables.
	https://github.com/kylefox/jquery-tablesort
	Version 0.0.3
*/
$(function(){var a=window.jQuery;a.tablesort=function(e,c){var g=this;this.$table=e;this.$thead=this.$table.find("thead");this.settings=a.extend({},a.tablesort.defaults,c);this.$thead.find(this.settings.thSelector).bind("click.tablesort",function(){g.sort(a(this))});this.direction=this.$th=this.index=null};a.tablesort.prototype={sort:function(e,c){var g=new Date,b=this,f=this.$table,p=0<this.$thead.length?f.find("tbody tr"):f.find("tr").has("td"),n=f.find("tr td:nth-of-type("+(e.index()+1)+")"),k=
e.data("sort-by"),l=[];this.index=e.index();var m=n.map(function(c,g){if(k)return"function"===typeof k?k(a(e),a(g),b):k;var d=a(this),h=d.data("sort-value"),f,h=(f=+h)||h;if(0===f)return 0;if(h)return h;d=d.text();h=(f=+d.replace(/[^0-9\.]/g,""))||d;return 0===f?0:h});if(0!==m.length){b.$thead.find(b.settings.thSelector).removeClass(b.settings.asc+" "+b.settings.desc);this.direction="asc"!==c&&"desc"!==c?"asc"===this.direction?"desc":"asc":c;c="asc"==this.direction?1:-1;b.$table.trigger("tablesort:start",
[b]);b.log("Sorting by "+this.index+" "+this.direction);for(var d=0,q=m.length;d<q;d++)l.push({index:d,cell:n[d],row:p[d],value:m[d]});l.sort(function(a,b){return a.value>b.value?1*c:a.value<b.value?-1*c:0});a.each(l,function(a,b){f.append(b.row)});e.addClass(b.settings[b.direction]);b.log("Sort finished in "+((new Date).getTime()-g.getTime())+"ms");b.$table.trigger("tablesort:complete",[b])}},log:function(e){(a.tablesort.DEBUG||this.settings.debug)&&console&&console.log&&console.log("[tablesort] "+
e)},destroy:function(){this.$thead.find(this.settings.thSelector).unbind("click.tablesort");this.$table.data("tablesort",null);return null}};a.tablesort.DEBUG=!1;a.tablesort.defaults={debug:a.tablesort.DEBUG,asc:"sorted ascending",desc:"sorted descending",thSelector:"th:not(.no-sort)"};a.fn.tablesort=function(e){var c,g;return this.each(function(){c=a(this);(g=c.data("tablesort"))&&g.destroy();c.data("tablesort",new a.tablesort(c,e))})}});